@using FitnessHub.Data.Entities
@using FitnessHub.Data.Entities.GymClasses
@using FitnessHub.Data.Entities.Users
@model IEnumerable<FitnessHub.Data.Entities.Users.Membership>

@{
    ViewData["Title"] = "Join us";
    Gym recommendedGym = ViewBag.Gym;
    ClassType recommendedClass = ViewBag.Class;
    Instructor instructor = ViewBag.Instructor;
}

<div id="mainCarousel" class="carousel slide shadow" data-bs-ride="carousel" style="border-radius:15px" >
    <div class="carousel-inner">
        <div class="carousel-item active">
            <img src="~/images/gym1.jpg" class="d-block w-100 carousel-image" alt="Gym Image 1">
            @* <div class="carousel-caption d-none d-md-block">
                <h5>Welcome to FitnessHub</h5>
                <p>Explore the best gyms near you!</p>
            </div> *@
        </div>
        <div class="carousel-item">
            <img src="~/images/gym2.jpg" class="d-block w-100 carousel-image" alt="Gym Image 2">
            @* <div class="carousel-caption d-none d-md-block">
                <h5>Stay Fit</h5>
                <p>Discover new ways to stay active.</p>
            </div> *@
        </div>
        <div class="carousel-item">
            <img src="~/images/gym3.jpg" class="d-block w-100 carousel-image" alt="Gym Image 3">
            @* <div class="carousel-caption d-none d-md-block">
                <h5>Join Now</h5>
                <p>Your journey to fitness starts here!</p>
            </div> *@
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#mainCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#mainCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>

<div class="row mt-4">
    <div class="col-12 text-center">
        <h2 class="mt-2" style="font-weight: bolder;">@ViewData["Title"]</h2>
    </div>
</div>

@if (Model.Any())
{
    <div class="row justify-content-center mt-2">
        @foreach (var membership in Model)
        {
            <div class="col-lg-3 col-md-3 col-sm-8 mx-2" style="cursor:pointer" onclick="window.location.href='@Url.Action("SignUp", "Memberships", new { id = membership.Id })'">
                <div class="card">
                    <div style="text-align: center; font-size: 2em; font-weight: bold" class="card-header">@membership.Name</div>
                    <div class="card-body">
                        <div class="card-text">
                            <p style="margin-bottom: 0; margin-top: 0">@membership.Description</p>
                        </div>
                    </div>
                    <div class="card-footer" style="color: whitesmoke; font-size: 1.3em;">
                        <small><strong>@membership.MonthlyFee.ToString("C2") / Month</strong></small>
                    </div>
                </div>
            </div>
        }
    </div>
}
else
{
    <hr />
    <div class="container mb-4 view-text">
        <div class="text-light">
            There aren't any memberships currently available. <br />
            But don't give up! <br />
            Come back later or contact us for more information!
        </div>
    </div>
}

<div class="container mb-4 view-text">
    <hr style="margin-bottom: 2.2rem; margin-top: 0" />

    <div class="text-light">
        At FitnessHub, we believe that fitness should be accessible to everyone, even if you're not ready for a membership just yet. That’s why we offer a wide range of free resources to support your fitness goals:<br /><br />
        <ul>
            <li><strong>Free Fitness Videos:</strong> Our platform provides access to a library of workout videos, expert tips, and training guides that can help you stay active, even from the comfort of your home. These videos cover everything, making it easy to follow along and stay fit on your own schedule.</li>
            <br />
            <li><strong>Community Support:</strong> Even without a membership, you can join our FitnessHub online community. Connect with fitness enthusiasts from around the globe, participate in challenges, and stay motivated with the latest content and fitness trends.</li>
        </ul>
        <br />
        <h5>Join the FitnessHub Family</h5>
        Whether you're working out in one of our gyms, following our free video tutorials, or joining a class across the world, you’re part of the FitnessHub community. Our mission is to provide the tools, spaces, and support you need to lead a healthy, active lifestyle — anywhere in the world.

        <span style="font-weight: bolder">We look forward to welcoming you to FitnessHub and helping you stay on your journey toward a healthier, stronger you, no matter where you are.</span>
    </div>
</div>

<!-- Recommended Section -->
<div class="container mt-5">
    <h3 class="mb-4" style="color:#ff6201;">Recommended for You</h3>
    <div class="row">
        <div class="col-md-4">
            <div class="card">
                @if (recommendedGym != null)
                {
                    <img src="@recommendedGym.ImageDisplay" class="recommendedgym-image" alt="Recommended Gym">
                }
                else
                {
                    <img src="~/images/noimage.png" class="recommendedgym-image" alt="Recommended Gym">
                }
                <div class="card-body">
                    <h5 class="card-title">Premium Gym</h5>
                    <p class="card-text">Get the ultimate fitness experience with our premium gym facilities.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card">
                @if (recommendedClass != null)
                {
                    <img src="@recommendedClass.ImageDisplay" class="recommendedgym-image" alt="Recommended Class">
                }
                else
                {
                    <img src="~/images/noimage.png" class="recommendedgym-image" alt="Recommended Gym">
                }
                <div class="card-body">
                    <h5 class="card-title">Fitness Classes</h5>
                    <p class="card-text">Join our fitness classes for a fun and engaging workout.</p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="card">
                @if (instructor != null)
                {
                    <img src="@instructor.Avatar" class="recommendedgym-image" alt="Recommended Instructor">
                }
                else
                {
                    <img src="~/images/noimage.png" class="recommendedgym-image" alt="Recommended Gym">
                }
                <div class="card-body">
                    <h5 class="card-title">Personal Training</h5>
                    <p class="card-text">Achieve your goals with personalized training sessions.</p>
                </div>
            </div>
        </div>
    </div>
</div>